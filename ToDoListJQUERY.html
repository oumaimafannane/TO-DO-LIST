<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>TO DO LIST JQUERY Vesrion</title>
	<!-- css required link of boostrap-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
   <!--biblio de jquery-->
   <script src="jquery-3.6.0.min.js"></script>
   <!--biblio jquery CDN-->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   
   <style>
    ul li {
      position: relative;
      padding:10pt;
      list-style-type: none;
      background: #f6949e;
      font-size: 16px;
    }
    
    ul li:hover {
      background:#aabbaa ;
    }
    ul li.checked {
      background: #f04d5e;
      color: black;
      text-decoration: line-through;
    }

    ul li:clicking {
      background: #f04d5e;
      color: black;
      text-decoration: line-through;
    }


.todolist li {
position:relative;
line-height:45px;
height:45px;
padding:0 15px;
margin-bottom:5px;
}

fieldset{
width:700px;
}

.todolist li span{
position:absolute;
right:0px;
cursor:pointer;
text-align: center;
background-color:rgb(188, 171, 204);
top: 0;
height:45px;
width:45px;
padding:0;

}

.todolist li span:hover{
    background-color: #a78ba5;
    color: white;
}

.close {
  position: absolute;
  right: 0;
  top: 0;
  padding: 12px 16px 12px 16px;
}
        </style>
  </head>
  <body style="background-image:url('bg.jpg'); background-size:cover;">
  <!-- Background image -->

  <fieldset  class="shadow-lg p-3 mb-5 bg-body rounded position-absolute top-0 start-50 translate-middle-x">
   <legend class="text-center fs-2 ">TO DO LIST </legend>
   <div class="mb-3">
    <label for="iteminput" class="form-label">Add item :</label>
    <input type="text" class="form-control" id="iteminput" placeholder="Tap your item here..">
  </div>
  <div align="center">
      Your to do list have a <span id="numitem">4</span> tasks.
  </div>
   
  <div class="col-12" align="center">
      <br> 
	<button   id="add_item" class="btn btn-light" style="background-color:#D08EFD">Add item</button>
	 <button type="reset" id="ClearAll" class="btn btn-primary">Clear All</button>
  </div>
<!--list of items-->
 <br>  
  <ul id="mylist" style="padding:0pt;" class="todolist">
    <li class="subjectName">Faire exercice de To Do List <span><i class="bi bi-trash red-color"></i></span></li>
    <li class="subjectName checked">envoyer l'exercice de validation du zone de text <span><i class="bi bi-trash red-color"></i></span></li>
    <li class="subjectName">Completer le projet GTK <span><i class="bi bi-trash red-color"></i></span></li>
    <li class="subjectName checked">Apprendre Javascript<span><i class="bi bi-trash red-color"></i></span></li>
  </ul>
  
</fieldset>

   <script>	

  // Add a "checked" style when clicking on a list item
    
  $('.subjectName').click(function(){
        if($(this).hasClass('checked'))
         {
          $(this).removeClass('checked');
         }
        else
         {
           $(this).addClass('checked'); 
         }
   });
    

  

// function to click the span contain the number of tasks:
function click_span()
{
    

}
  
  
//function add_item wich can add any item written in the entry to the list of items:
$("#add_item").click(function(){ 
  var  itemvalue = $("#iteminput").val();
            if(itemvalue ==='')
            {
              alert("You must write something before add your task !!!");
            }
            else
            {
              ///craeting an adding the item element:            
             /// the li:
              var li= $('<li>').text($("#iteminput").val()).appendTo('ul');
                li.addClass('subjectName');
                ///creating the trash span:
                var span=$('<span>').appendTo(li);
                 var i= $('<i>').appendTo(span);  
                   i.addClass('bi bi-trash red-color');   

                ///update the span:      
                      click_span(); 
                ///add checking action:
                li.click(function(){
        if($(this).hasClass('checked'))
         {
          $(this).removeClass('checked');
         }
        else
         {
           $(this).addClass('checked'); 
         }
   });

                //Add the action that when this trash's symbol being clicked it will being deleted: 
            span.click(function(){
             $(this).parent().remove();
            });
        



         //deleting the content of the input :
          document.getElementById("iteminput").value='';

            }
            });
     

//function clear all wich can delete all to do list items:

$("#ClearAll").click(function(){
   $('#mylist').text("");
   
   nbre_item();
});

//function calcul_items witch can count number of all items existing in the page:

function nbre_item()
{

  var nbreitem= $("ul .subjectName").length;
    $("#numitem").text(nbreitem);
}
$("#add_item").click(function(){
   
  nbre_item();

});

//delete an item when his trash symbol is clicked:
    
$(".subjectName span").click(function(){
$(this).parent().remove();
nbre_item();
});




   
  
    </script>
  </body>
</html>
